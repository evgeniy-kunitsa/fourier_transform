<h1>Charts</h1>
<%= render partial: 'panel_with_plot',
           locals: {
               plot_title: 'Direct Conversion Result',
               plot_id: 'direct_conversion',
               values: {
                   x: @direct_conversion_result[:indexes],
                   y: @direct_conversion_result[:values]
               }
           }
%>
<%= render partial: 'panel_with_plot',
           locals: {
               plot_title: 'Reverse Conversion Result',
               plot_id: 'reverse_conversion',
               values: {
                   x: @reverse_conversion_result[:indexes],
                   y: @reverse_conversion_result[:values]
               }
           }
%>
<%= render partial: 'panel_with_plot',
           locals: {
               plot_title: 'Original Function Plot',
               plot_id: 'original_function',
               values: {
                   x: @original_plot_points[:x],
                   y: @original_plot_points[:y]
               }
           }
%>

<div class="panel panel-default">
  <div class="panel-heading">
    Detailed Conversion Data
  </div>
  <div class="panel-body">
    <div id="details-table-holder" class="table-responsive">
      <table class="table">
        <% @direct_conversion.size.times do |index|%>
            <th>
              <%= index %>
            </th>
        <% end %>
        <th>
          Sum
        </th>
        <% @direct_conversion.each do |conversion_unit| %>
            <tr>
              <% conversion_unit[1][:components].each do |component| %>
                  <td>
                    <%= "(#{component.real.round(2)} +  #{component.imag.round(2)}i)"%>
                  </td>
              <% end %>
              <td>
                <%= conversion_unit[1][:value][:abs].round(2) %>
              </td>
            </tr>
        <% end %>
      </table>
    </div>
  </div>
</div>
